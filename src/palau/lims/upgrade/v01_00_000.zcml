<configure
    xmlns="http://namespaces.zope.org/zope"
    xmlns:genericsetup="http://namespaces.zope.org/genericsetup"
    i18n_domain="palau.lims">

  <genericsetup:upgradeStep
      title="Setup analysis by department report"
      description="
        Setup the catalog indexes/metadata required for the analysis by
        department to work properly and reindex all analyses for the changes
        to take effect to existing objects.
      "
      source="1003"
      destination="1004"
      handler=".v01_00_000.setup_analysis_by_department_report"
      profile="palau.lims:default"/>

    <genericsetup:upgradeStep
        title="Setup statistic reports"
        description="Setup statistic reports"
        source="1002"
        destination="1003"
        handler=".v01_00_000.setup_statistic_reports"
        profile="palau.lims:default"/>

    <genericsetup:upgradeStep
      title="Add Patient behavior"
      description="Add Patient behavior"
      source="1001"
      destination="1002"
      handler=".v01_00_000.add_patient_behavior"
      profile="palau.lims:default"/>

  <!-- Set patient name entry mode to firstname+lastname -->
  <genericsetup:upgradeStep
      title="Update the Site field value with SamplePoint"
      description="
        Walks through all AnalysisRequest (samples) objects, gets the value of
        for the field SamplePoint and if empty, assigns the value to the field
        Site. This is necessary because of the introduction of the new Site
        field, that besides the selection of a SamplePoint object, it also
        allows a custom text value. Thus, although SamplePoint field is no
        longer, it's value must be proxied to Site so at least index searches
        can work as expected"
      source="1.0.0"
      destination="1001"
      handler=".v01_00_000.set_site_from_samplepoint"
      profile="palau.lims:default"/>

</configure>
